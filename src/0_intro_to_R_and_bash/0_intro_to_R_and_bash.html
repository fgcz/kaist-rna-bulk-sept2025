<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.613">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to Bash and R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="0_intro_to_R_and_bash_files/libs/clipboard/clipboard.min.js"></script>
<script src="0_intro_to_R_and_bash_files/libs/quarto-html/quarto.js"></script>
<script src="0_intro_to_R_and_bash_files/libs/quarto-html/popper.min.js"></script>
<script src="0_intro_to_R_and_bash_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="0_intro_to_R_and_bash_files/libs/quarto-html/anchor.min.js"></script>
<link href="0_intro_to_R_and_bash_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="0_intro_to_R_and_bash_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="0_intro_to_R_and_bash_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="0_intro_to_R_and_bash_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="0_intro_to_R_and_bash_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<style>
    .quarto-title-block .quarto-title-banner {
      background: #00A7FF;
    }
    </style>


<link rel="stylesheet" href="style.css">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Introduction to Bash and R</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-bash" id="toc-introduction-to-bash" class="nav-link active" data-scroll-target="#introduction-to-bash">Introduction to Bash</a>
  <ul class="collapse">
  <li><a href="#navigation" id="toc-navigation" class="nav-link" data-scroll-target="#navigation">Navigation</a></li>
  <li><a href="#commands" id="toc-commands" class="nav-link" data-scroll-target="#commands">Commands</a></li>
  <li><a href="#the-root-directory" id="toc-the-root-directory" class="nav-link" data-scroll-target="#the-root-directory">The root directory</a></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">Variables</a></li>
  <li><a href="#loops" id="toc-loops" class="nav-link" data-scroll-target="#loops">Loops</a></li>
  <li><a href="#executing-script-files" id="toc-executing-script-files" class="nav-link" data-scroll-target="#executing-script-files">Executing script files</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul></li>
  <li><a href="#introduction-to-r" id="toc-introduction-to-r" class="nav-link" data-scroll-target="#introduction-to-r">Introduction to R</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="introduction-to-bash" class="level1">
<h1>Introduction to Bash</h1>
<p>(Adapted from LMU’s shell scripting <a href="https://cs.lmu.edu/~ray/notes/bash/">notebook</a>)</p>
<p><strong>Bash</strong>, the Bourne-Again Shell, refers both to a particular Unix shell program and its associated scripting language. A shell is a command interpreter. Commands can be executable files or built-ins. Commands can be bundled together into a <em>script</em> which a shell program executes. How the commands are packaged and wired together, using variables, functions, and control-flow operators makes up the shell’s <em>scripting language</em>.</p>
<p>You can think of bash in many ways as a file explorer. Instead of using a mouse to tell the computer where to go and what to do, you relay the instructions to the computer line-by-line with a tool called the <strong>Terminal</strong>.</p>
<section id="navigation" class="level2">
<h2 class="anchored" data-anchor-id="navigation">Navigation</h2>
<p>Bash is our primary tool for interacting with the terminal and importantly allows us to navigate through the computer’s file system.</p>
<p>Let’s see some examples of commands you will find useful throughout the rest of the course.</p>
<p>The command <code>echo</code> will simply return any text you give it.</p>
<pre class="{bash}"><code>echo Hello World
echo We are learning bash!</code></pre>
<p><code>pwd</code> displays your current working directory (i.e.&nbsp;the directory that you’re in)</p>
<pre class="{bash}"><code>pwd</code></pre>
<p><code>ls</code> prints the content of a specified directory</p>
<pre class="{bash}"><code>ls .</code></pre>
<p>The <code>.</code> specifies that we would like to operate on the current directory. Since we are running these from a notebook, the working directory will be the same as that of the notebook (see the output of <code>pwd</code> above).</p>
<p>Similarly, typing <code>..</code> means you want the shell to look up one directory in the hierarchy. This will be <code>/home/rstudio/work/rna-seq-course-feb2023/src</code> in our case.</p>
<pre class="{bash}"><code>ls ..</code></pre>
<p>To change the directory, use the command <code>cd</code></p>
<pre class="{bash}"><code>cd ..  # go up one directory
ls .  # print the contents of the directory</code></pre>
<div class="callout-caution callout callout-style-simple">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Beware that every <strong><em>code chunk</em></strong> (the blocks with the green arrow) is run <em>in isolation within a separate bash session</em>. This means that we effectively return to the original directory after execution of the code cell. You can test this by running the cell multiple times in a row. The output remains the same because we return to the original directory each time implicitly.</p>
<p>Running the code in the tab below called “terminal” however <em>does</em> keep a memory of everything we have executed because it is running a single, uninterrupted session. In the same way as the code blocks above, if we were to terminate Renku and (and exit the bash session above), the next time we log in, we would automatically be placed into the project directory (by default) and not in the directory we were in before we closed the session.</p>
</div>
</div>
</div>
<p>Let’s move around a bit more.</p>
<pre class="{bash}"><code>cd ../..
ls</code></pre>
<p>The <code>/</code> character separates directories, so placing it between two <code>..</code> means we move up <strong>2</strong> directories instead of one.</p>
<p>Let’s navigate into the <code>data</code> directory in the root project directory.</p>
<pre class="{bash}"><code>cd ../../data
ls</code></pre>
<p>Here, we again move up two directories, then into the data directory. Validate this result by using the file explorer on the right.</p>
</section>
<section id="commands" class="level2">
<h2 class="anchored" data-anchor-id="commands">Commands</h2>
<p><code>cd</code> and <code>ls</code> are commands, and there are many more such commands in bash for performing various tasks. In fact, many more such commands exist and all of the tools in the first few sections of the practicals will have corresponding executions on the command line.</p>
<p>As an example, <code>realpath</code> specifies the <strong>absolute path</strong> of a given directory. This is the path relative to the <strong>root</strong> of the file system you are on and they will all start with <code>/</code>.</p>
<p>Let’s print the absolute path of the current working directory.</p>
<pre class="{bash}"><code>realpath .</code></pre>
<p><code>pwd</code> already prints the absolute path of the current working directory, so the output of this command will be the same as running the above cell block.</p>
<p>Many tools have special <strong>options</strong> which change the way the tool behaves. These are usually specified in bash using a single <code>-</code> or two dashes <code>--</code> if you want to use the longform alias.</p>
<p><code>ls</code> has two options which I find very useful.</p>
<p><code>-l</code> prints the output line-by-line and gives you some information about the size of each file and who has access to it.</p>
<p><code>-h</code> prints the <code>-l</code> output in a more human readable format (i.e.&nbsp;converting bytes into gigabtyes, megabytes, etc.)</p>
<pre class="{bash}"><code>cd ../../data
ls -lh</code></pre>
</section>
<section id="the-root-directory" class="level2">
<h2 class="anchored" data-anchor-id="the-root-directory">The root directory</h2>
<p>Let’s see what’s actually inside the root directory <code>/</code></p>
<pre class="{bash}"><code>ls -lh /</code></pre>
<p>There are a lot of different files and directories here required for the computer to work. In fact, it contains <em>all</em> the programs, data, and settings on your computer (so don’t delete it). You may notice the <code>/home</code> directory, which is the directory in which all the course materials are located.</p>
<p>I have additionally installed a number of different programs in <code>/opt</code>. Take a look at these now.</p>
<pre class="{bash}"><code>ls -lh /opt</code></pre>
</section>
<section id="variables" class="level2">
<h2 class="anchored" data-anchor-id="variables">Variables</h2>
<p>We often want to save information for later use. Let’s say for example that we want to keep a record of the current working directory, which we will then use later. This is where <strong>variables</strong> come in. Think of them as a bucket into which you can deposit information. We define variables by using the equal sign <code>=</code> . In order to <em>reference a variable</em>, we use the dollar sign <code>$</code> character in front of the variable name.</p>
<p>Let’s say we want to store the text “Hello World” inside a variable x and then print the text. We can also reassign the variable as many times as we want to a different text.</p>
<pre class="{bash}"><code>x="Hello World"
echo $x
echo $x
x="Hello Bangaloru"
echo $x</code></pre>
<p>Bash primarily uses variables to store text output, but other programming languages use variables to store all kinds of information.</p>
</section>
<section id="loops" class="level2">
<h2 class="anchored" data-anchor-id="loops">Loops</h2>
<p>Often, we would like to perform the same operation on multiple inputs. In the example below, we loop through the some words and print them line-by-line. A <strong>for-loop</strong> can help us with this. The different items are separated by a space. The <strong>body</strong> of a for-loop will be executed for every specified item.</p>
<pre class="{bash}"><code>for TEXT in "abc" "def" "I" "like" "programming"; do
  echo $TEXT
done</code></pre>
<p>The above example is very simple, but for-loops allow us to do many useful things, such as executing the same command for a series of samples to process with a certain tool, for instance. We will see some examples of this in the later notebooks.</p>
</section>
<section id="executing-script-files" class="level2">
<h2 class="anchored" data-anchor-id="executing-script-files">Executing script files</h2>
<p>Sometimes, we want to reuse a series of bash command for later use. In this case, we can place the files into a file ending in <code>.sh</code> and call <code>bash</code> as a command to execute the contents.</p>
<p>First, create a file in the <strong>current directory</strong> containing the following lines and save it as a file called “test.sh”</p>
<pre class="{bash}"><code>echo "Hello World"
cd ..
ls -lh
cd ..
ls -lh
sleep 2</code></pre>
<p>Execute this file by typing the following.</p>
<pre class="{bash}"><code>bash test.sh</code></pre>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>We have just skimmed the surface of what <code>bash</code> can do, and you should be able to understand the bash code in the rest of the module a little better now. Still, we encourage you to spend more time getting familiar with bash after this course because it will be instrumental in running not just these analyses, but many other tools and bioinformatic pipelines.</p>
</section>
</section>
<section id="introduction-to-r" class="level1">
<h1>Introduction to R</h1>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>